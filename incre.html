<html>
  <head>
    <script type="text/javascript" src="http://and-d.post-survey.com/style/script/jquery.js"></script>
    <!--script type="text/javascript" src="http://and-d.post-survey.com/style/script/jquery.js"></script>
		<script type="text/javascript" src="http://and-d.post-survey.com/style/script/jquery_ui/jquery.ui.core.js"></script>
	  <script type="text/javascript" src="http://and-d.post-survey.com/style/script/jquery_ui/jquery.ui.widget.js"></script>
	  <script type="text/javascript" src="http://and-d.post-survey.com/style/script/jquery_ui/jquery.ui.position.js"></script>
	  <script type="text/javascript" src="http://and-d.post-survey.com/style/script/jquery_ui/jquery.ui.dialog.js"></script>
	  <script type="text/javascript" src="http://and-d.post-survey.com/style/script/jquery_ui/jquery.ui.mouse.js"></script>
	  <script type="text/javascript" src="http://and-d.post-survey.com/style/script/jquery_ui/jquery.ui.resizable.js"></script>
	  <script type="text/javascript" src="http://and-d.post-survey.com/style/script/jquery_ui/jquery.ui.draggable.js"></script>
    <script type="text/javascript" src="http://and-d.post-survey.com/style/script/jquery.treeview.js"></script-->
      <!--script src="https://code.jquery.com/jquery-1.3.2.pack.js"></script-->

  </head>
  <body>
    <form action="">
      <input type="text" name="a0055t001" />
      <input type="text" name="a0055t002" />
      <input type="text" name="a0055t003" />
      <input type="text" name="a0055t004" />
      <!--input type="button" id="sample" value="ボタン"></button-->
    </form>
  </body>
  <script>
$(function(){
  var debug = true;
  var log = function(mes){ if (debug){ console.log(mes) } };
  //必要な大学の一覧を入れます
  var univs = ['筑波技術大学','茨城大学','筑波大学','宇都宮大学','群馬大学','埼玉大学','千葉大学','東京藝術大学','一橋大学','東京工業大学','東京学芸大学','東京海洋大学','東京外国語大学','東京大学','電気通信大学','お茶の水女子大学','東京農工大学','東京医科歯科大学','横浜国立大学','岐阜大学','浜松医科大学','静岡大学','愛知教育大学','豊橋技術科学大学','名古屋大学','名古屋工業大学','三重大学','滋賀大学','滋賀医科大学','京都大学','京都教育大学','京都工芸繊維大学','大阪大学','大阪教育大学','神戸大学','兵庫教育大学','奈良教育大学','奈良女子大学','和歌山大学','茨城県立医療大学','群馬県立女子大学','高崎経済大学','前橋工科大学','群馬県立県民健康科学大学','埼玉県立大学','千葉県立保健医療大学','東京都立大学','横浜市立大学','神奈川県立保健福祉大学','流通経済大学','つくば国際大学','常磐大学','茨城キリスト教大学','筑波学院大学','国際医療福祉大学','作新学院大学','宇都宮共和大学','自治医科大学','足利大学','文星芸術大学','白鴎大学','獨協医科大学','関東学園大学','高崎商科大学','高崎健康福祉大学','上武大学','群馬パース大学','群馬医療福祉大学','桐生大学','共愛学園前橋国際大学','育英大学','日本工業大学','平成国際大学','尚美学園大学','城西大学','共栄大学','埼玉工業大学','埼玉医科大学','埼玉学園大学','人間総合科学大学','東都大学','東邦音楽大学','浦和大学','日本保健医療大学','東京国際大学','武蔵野学院大学','女子栄養大学','駿河台大学','文教大学','西武文理大学','十文字学園女子大学','日本薬科大学','日本医療科学大学','獨協大学','ものつくり大学','聖学院大学','明海大学','秀明大学','城西国際大学','東京基督教大学','敬愛大学','国際武道大学','三育学院大学','了徳寺大学','川村学園女子大学','清和大学','愛国学園大学','植草学園大学','江戸川大学','亀田医療大学','神田外語大学','和洋女子大学','淑徳大学','麗澤大学','開智国際大学','東京情報大学','中央学院大学','千葉工業大学','千葉経済大学','千葉科学大学','聖徳大学','千葉商科大学','清泉女子大学','東京成徳大学','杉野服飾大学','駒澤大学','白百合女子大学','白梅学園大学','成蹊大学','昭和女子大学','専修大学','昭和大学','上智大学','順天堂大学','芝浦工業大学','実践女子大学','駒沢女子大学','聖路加国際大学','多摩大学','学習院女子大学','上野学園大学','聖心女子大学','津田塾大学','中央大学','昭和薬科大学','玉川大学','成城大学','拓殖大学','高千穂大学','大東文化大学','創価大学','大正大学','帝京大学','多摩美術大学','東京純心大学','明治大学','東京医療保健大学','東京慈恵会医科大学','東京医療学院大学','東京工科大学','東京経済大学','東京神学大学','東京家政学院大学','産業能率大学','東京音楽大学','東京女子医科大学','東京福祉大学','ルーテル学院大学','ヤマザキ動物看護大学','こども教育宝仙大学','帝京科学大学','女子美術大学','デジタルハリウッド大学','明治学院大学','和光大学','東京聖栄大学','東洋大学','桐朋学園大学','東京造形大学','東京電機大学','東京農業大学','東京富士大学','東京未来大学','東京薬科大学','東京医科大学','東京女子大学','東京家政大学','日本歯科大学','東洋学園大学','二松学舎大学','日本大学','日本医科大学','東京理科大学','東京工芸大学','東京女子体育大学','跡見学園女子大学','東邦大学','北里大学','武蔵野美術大学','日本文化大学','青山学院大学','国際基督教大学','工学院大学','慶應義塾大学','国立音楽大学','明治薬科大学','共立女子大学','國學院大學','学習院大学','大妻女子大学','桜美林大学','国士舘大学','亜細亜大学','東京歯科大学','立正大学','東京都市大学','杏林大学','早稲田大学','立教大学','明星大学','目白大学','恵泉女学園大学','帝京平成大学','武蔵野大学','文京学院大学','日本獣医生命科学大学','日本女子大学','日本女子体育大学','星薬科大学','日本体育大学','東京有明医療大学','文化学園大学','日本社会事業大学','法政大学','日本赤十字看護大学','嘉悦大学','武蔵大学','武蔵野音楽大学','宝塚大学','国際ファッション専門職大学','東京国際工科専門職大学','東京保健医療専門職大学','情報経営イノベーション専門職大学','横浜創英大学','横浜商科大学','松蔭大学','麻布大学','湘南医療大学','神奈川大学','神奈川工科大学','鎌倉女子大学','関東学院大学','昭和音楽大学','横浜美術大学','神奈川歯科大学','田園調布学園大学','相模女子大学','聖マリアンナ医科大学','桐蔭横浜大学','鶴見大学','洗足学園音楽大学','東海大学','東洋英和女学院大学','日本映画大学','フェリス女学院大学','横浜薬科大学','湘南工科大学','湘南鎌倉医療大学','大阪市立大学','大阪府立大学','兵庫県立大学','常葉大学','金城学院大学','愛知大学','愛知学院大学','愛知工業大学','椙山女学園大学','中部大学','愛知淑徳大学','中京大学','名古屋外国語大学','名古屋学院大学','南山大学','日本福祉大学','名城大学','京都橘大学','立命館大学','京都産業大学','京都女子大学','京都精華大学','龍谷大学','同志社大学','同志社女子大学','佛教大学','大阪芸術大学','大阪経済大学','大阪商業大学','大阪工業大学','大阪産業大学','追手門学院大学','関西外国語大学','摂南大学','近畿大学','関西大学','大阪電気通信大学','大阪学院大学','桃山学院大学','阪南大学','関西学院大学','神戸学院大学','甲南大学','武庫川女子大学']
  function set_suggest(input_field_name){
    var input_field = $('input[name="'+input_field_name+'"]');
    //下記input_field.attr("list", "univ_choices") なぜかjQueryではこのように書けないので、直接DOMに書く
    input_field.get()[0].setAttribute("list", input_field_name+"_choices");
    var datalist = $('<datalist id="'+ input_field_name+'_choices">')
    datalist.insertAfter(input_field)
    var refresh_choices = function(choices, matches){
      datalist.empty();
      //完全一致が一つ以上存在する場合は表示しない
      if( matches.length != 1){
        for(var i = 0; i < choices.length; i++){
          datalist.append('<option value="'+choices[i]+'"/>');
        }
      }
    };
    var incre_func = function(){
      var input_value = input_field.val()
      log("'"+input_value+" 'が入力されました");
      var choices = [];
      var matches = []
      for(var i = 0; i < univs.length; i++){
        if(univs[i] === input_value){
          matches.push(univs[i]);
        }
        if( univs[i].indexOf(input_value) > -1 ){
          choices.push(univs[i]);
        }
      }
      refresh_choices(choices, matches)
    };
    input_field.keyup(incre_func);
  }
  //対象にするinputのhtml要素のnameを指定
  //var input_field_name = 'a0001t001';
  set_suggest("a0055t001");
  set_suggest("a0055t002");
  set_suggest("a0055t003");
  set_suggest("a0055t004");
});

  </script>

</html>
